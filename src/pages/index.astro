---
import BaseLayout from '../layouts/BaseLayout.astro';
import Experience from '../components/Experience.tsx';
import { getCollection } from 'astro:content';
import '../styles/global.css';
import About from '../components/About.astro';
import Contact from '../components/Contact.astro';

const allExperience = await getCollection('experience');
const workExperience = await getCollection('experience', ({ data }) => {
  // TODO: create a constant for the type 'work'
  return data.type === 'work';
});
const projectExperience = await getCollection('experience', ({ data }) => {
  return data.type === 'project';
});
---

<BaseLayout title="Alberto Godinez">
  <main class="flex flex-column pi-8 p-block-8 width-screen">
    <About />
    <Experience
      allExperience={allExperience}
      workExperience={workExperience}
      projectExperience={projectExperience}
      client:load
    />
    <Contact />
  </main>
</BaseLayout>
